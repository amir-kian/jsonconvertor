{"ast":null,"code":"import _asyncToGenerator from \"F:/Development/JsonConverter/jsonConvertor/JsonConverter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Formula } from '../../../Models/Formula.model';\nimport { MyPlaceholder } from '../../../Models/MyPlaceholder.model';\nimport { UntypedFormControl } from '@angular/forms';\nimport { VouchersDetail } from '../../../Models/VouchersDetail.model';\nimport { FormulaTextArea } from 'src/app/Models/FormulaTextArea.model';\nimport { FormulaTextAreaValue } from 'src/app/Models/FormulaTextAreaValue';\nimport { FormulaTextAreaValueProperty } from 'src/app/Models/FormulaTextAreaValueProperty';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AddComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 78);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r6.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"code: \", item_r6.code, \" title: \", item_r6.title, \" \");\n  }\n}\nfunction AddComponent_option_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 78);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r7.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"code: \", item_r7.code, \" title: \", item_r7.title, \" \");\n  }\n}\nfunction AddComponent_div_112_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 79)(1, \"label\", 65);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 80)(4, \"input\", 81);\n    i0.ɵɵlistener(\"contextmenu\", function AddComponent_div_112_Template_input_contextmenu_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const index_r9 = restoredCtx.index;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.detectRightMouseClick($event, index_r9));\n    })(\"ngModelChange\", function AddComponent_div_112_Template_input_ngModelChange_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const index_r9 = restoredCtx.index;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.FormullaArr[index_r9].Value = $event);\n    })(\"change\", function AddComponent_div_112_Template_input_change_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.AlterFormula($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 82);\n    i0.ɵɵelementStart(6, \"div\", 83);\n    i0.ɵɵtext(7, \" \\u0628\\u0631\\u0627\\u06CC \\u0627\\u0633\\u062A\\u0641\\u0627\\u062F\\u0647 \\u0627\\u0632 placeholer \\u0645\\u0642\\u062F\\u0627\\u0631 placeholder\\u0631\\u0627 \\u062F\\u0627\\u062E\\u0644 [] \\u0642\\u0631\\u0627\\u0631 \\u062F\\u0647\\u06CC\\u062F. \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    const index_r9 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.Name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"formula\", index_r9, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"a\", index_r9, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.FormullaArr[index_r9].Value);\n    i0.ɵɵattribute(\"data-index\", index_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"showFormula\", index_r9, \"\");\n  }\n}\nexport class AddComponent {\n  /*End fields*/\n  constructor(_apiService) {\n    this._apiService = _apiService;\n    this.title = 'JsonConverter';\n    this.selectFormulaIndex = 0;\n    this.FormullaArr = [];\n    this.FormullaName = \"\";\n    this.FormulaErroMessage = \"\";\n    this.ForumlaTextAreaList = [];\n    //add contextmenu\n    this.rightPanelStyle = {};\n    this.searchVal = '';\n    //userList:userObj[];\n    this.isAlert = false;\n    //k result:Observerable<any[]>;\n    this.search = new UntypedFormControl(\"\");\n    this.Formula = \"\";\n  }\n  ngOnInit() {\n    debugger;\n    $(\".select2\").on(\"change\", evt => {\n      debugger;\n      this.VoucherTypeId = $(\"#VoucherTypeId\").val();\n      this.AccountHeadId = $(\"#AccountHeadId\").val();\n      this.RowDescription = $(\"#RowDescription\").val();\n      this.onFormChange(evt);\n    });\n    //  SelectChange().then(()=>{alert('sfdsf')});\n    this._apiService.GetAllCodeVoucherGroup().subscribe(res => {\n      this.vocherTypeIdSelectData = res;\n      console.log('vocherTypeIdSelectData:', this.vocherTypeIdSelectData);\n    });\n    this._apiService.GetAllAccountHeads().subscribe(res => {\n      this.accountHeadSelectData = res;\n      console.log('accountHeadSelectData:', this.accountHeadSelectData);\n    });\n    this._apiService.GetAllRowDescription().subscribe(res => {\n      this.rowDescriptionSelectData = res;\n      console.log('rowDescriptionSelectData:', this.rowDescriptionSelectData);\n    });\n    callSelect2();\n    this.closeContextMenu();\n  }\n  onShow() {\n    alert('Show button clicked!');\n  }\n  onFormChange($event) {\n    debugger;\n    this.ButifyJson();\n    console.log('event:', $event);\n    console.log('this.OrderIndex:', this.OrderIndex);\n    var contactForm = {\n      value: {\n        Id: \"string\",\n        VoucherTypeId: this.VoucherTypeId,\n        OrderIndex: this.OrderIndex,\n        SourceVoucherTypeId: this.SourceVoucherTypeId,\n        DebitCreditStatus: this.DebitCreditStatus,\n        AccountHeadId: this.AccountHeadId,\n        RowDescription: this.RowDescription,\n        Conditions: this.Conditions,\n        GroupBy: this.GroupBy,\n        OwnerRoleId: this.OwnerRoleId,\n        CreatedById: this.CreatedById,\n        CreatedAt: this.CreatedAt,\n        ModifiedById: this.ModifiedById,\n        ModifiedAt: this.ModifiedAt,\n        IsDeleted: this.IsDeleted,\n        Formula: this.FormullaArr\n      }\n    };\n    //    this.map(contactForm);\n  }\n\n  onFormulaChange($event) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.makeFormulaChange($event).then(a => {\n        _this.FormullaArr.forEach((item, index) => {\n          changeShowFormula(index, item.Value);\n          _this.DedicateAndSetFormula(index);\n        });\n      });\n    })();\n  }\n  makeFormulaChange($event) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      debugger;\n      _this2.FormullaArr = [];\n      console.log('event:', $event);\n      const data = JSON.parse($event);\n      const formulaTextAreasList = data.map(item => new FormulaTextArea(item.Property, new FormulaTextAreaValue(item.Value.Text, item.Value.Properties.map(property => new FormulaTextAreaValueProperty(property.Name)))));\n      // log the result to the console\n      console.log('formulaTextAreas:', formulaTextAreasList);\n      formulaTextAreasList.forEach((item, index) => {\n        var formula = new Formula(index, item.Value.Text, item.Property, item.Placeholders);\n        _this2.FormullaArr.push(formula);\n      });\n      console.log('this.FormullaArr:', _this2.FormullaArr);\n    })();\n  }\n  detectRightMouseClick($event, index) {\n    $event.preventDefault();\n    debugger;\n    var index = $event.target.getAttribute('data-index');\n    this.selectFormulaIndex = index;\n    if ($event.which === 3) {\n      this.rightPanelStyle = {\n        'display': 'block',\n        'position': 'absolute',\n        'left.px': $event.clientX,\n        'top.px': $event.clientY\n      };\n      console.log('this.rightPanelStyle', this.rightPanelStyle);\n    }\n  }\n  closeContextMenu() {\n    this.rightPanelStyle = {\n      'display': 'none'\n    };\n  }\n  createFormulaItem() {\n    debugger;\n    if (this.FormullaName) {\n      if (this.FormullaArr.find(obj => {\n        return obj.Name == this.FormullaName;\n      })) {\n        this.FormulaErroMessage = \"نام فرمول نباید تکراری باشد\";\n        return;\n      }\n      let createdFormula = '<input type=\"text\" class=\"form-control\">';\n      this.FormullaArr.push(new Formula(this.FormullaArr.length, \"\", this.FormullaName));\n      this.FormulaErroMessage = \"\";\n    } else {\n      this.FormulaErroMessage = \"نام فرمول را باید وارد کنید\";\n    }\n  }\n  removeFormulaItem() {\n    debugger;\n    delete this.FormullaArr[this.selectFormulaIndex];\n    console.log('this.FormullaArr', this.FormullaArr);\n    this.FormullaArr = this.FormullaArr.filter(item => item.Index !== this.selectFormulaIndex);\n    //removeInput(index);\n  }\n\n  OpenAddTextModal(index) {\n    debugger;\n    this.selectFormulaIndex = index;\n    OpenTextModal();\n  }\n  OpenAddPlaceHolderModal() {\n    debugger;\n    this.selectFormulaIndex = this.selectFormulaIndex;\n    OpenPlaceholderModal();\n  }\n  InsertTextToFormula(form) {\n    debugger;\n    this.FormullaArr[this.selectFormulaIndex].Value += form.text;\n    console.log('this.FormullaArr', this.FormullaArr);\n    CloseAllActiveModals();\n  }\n  InsertPlaceHolderToFormula(form) {\n    debugger;\n    var PlaceholderIndex = Number(GetPlaceHoderIndex());\n    this.FormullaArr[this.selectFormulaIndex].Placeholders = this.FormullaArr[this.selectFormulaIndex].Placeholders.filter(item => item.Index !== 0); //temerory\n    this.FormullaArr[this.selectFormulaIndex].Placeholders = this.FormullaArr[this.selectFormulaIndex].Placeholders.filter(item => item.Index !== PlaceholderIndex);\n    //this.FormullaArr[this.selectFormulaIndex].Placeholders.push(new MyPlaceholder(this.FormullaArr[this.selectFormulaIndex].Placeholders.length, form.text));\n    this.FormullaArr[this.selectFormulaIndex].Placeholders.push(new MyPlaceholder(PlaceholderIndex, form.text));\n    console.log('this.FormullaArr', this.FormullaArr);\n    //this.FormullaArr[this.selectFormulaIndex].Value += \"[]\";\n    CloseAllActiveModals();\n    this.UpdateFormulaTextArea();\n  }\n  UpdateFormulaTextArea() {\n    debugger;\n    this.ForumlaTextAreaList = [];\n    var customFormulaTextAreaValuePropertyList = [];\n    this.FormullaArr.forEach((item, index) => {\n      item.Placeholders.forEach(element => {\n        var customFormulaTextAreaValueProperty = new FormulaTextAreaValueProperty(element.Name);\n        customFormulaTextAreaValuePropertyList.push(customFormulaTextAreaValueProperty);\n      });\n      var formulaTextAreaValueName = $(\"#showFormula\" + index).text();\n      var formulaTextAreaValue = new FormulaTextAreaValue(formulaTextAreaValueName, customFormulaTextAreaValuePropertyList);\n      var formulaTextArea = new FormulaTextArea(item.Name, formulaTextAreaValue);\n      this.ForumlaTextAreaList.push(formulaTextArea);\n    });\n    console.log('ForumlaTextAreaList:', this.ForumlaTextAreaList);\n    const jsonString = JSON.stringify(this.ForumlaTextAreaList);\n    this.Formula = jsonString;\n    this.ButifyJson();\n  }\n  AlterFormula($event) {\n    debugger;\n    var value = $event.target.value;\n    var index = $event.target.getAttribute(\"data-index\");\n    changeShowFormula(index, value);\n    this.DedicateAndSetFormula(index);\n  }\n  ///بدست آوردن و ست کردن جانگهدارهای یک فرمول\n  DedicateAndSetFormula(formulaIndex) {\n    debugger;\n    var famulaText = this.FormullaArr[this.selectFormulaIndex].Value;\n    const regex = /\\[.+?\\]/g;\n    const matches = famulaText.match(regex);\n    this.FormullaArr[this.selectFormulaIndex].Placeholders = [];\n    if (matches) {\n      matches.forEach((item, index) => {\n        this.FormullaArr[this.selectFormulaIndex].Placeholders.push(new MyPlaceholder(index, item));\n      });\n    }\n    console.log('selected formula is:', this.FormullaArr[this.selectFormulaIndex]);\n    this.onFormChange(null);\n  }\n  map(contactForm) {\n    debugger;\n    let myVoucher = new VouchersDetail();\n    let formullItems = [];\n    this.FormullaArr.forEach((item, index) => {\n      let newFormula = {\n        \"Property\": item.Name,\n        \"Value\": {\n          \"text\": item.Value,\n          \"Properties\": {\n            \"name\": item.Placeholders[index].Name\n          }\n        }\n      };\n      formullItems.push(newFormula);\n    });\n    myVoucher.Id = contactForm.value.Id, myVoucher.VoucherTypeId = contactForm.value.VoucherTypeId, myVoucher.OrderIndex = contactForm.value.OrderIndex, myVoucher.SourceVoucherTypeId = contactForm.value.SourceVoucherTypeId, myVoucher.DebitCreditStatus = contactForm.value.DebitCreditStatus, myVoucher.AccountHeadId = contactForm.value.AccountHeadId, myVoucher.RowDescription = contactForm.value.RowDescription, myVoucher.Conditions = contactForm.value.Conditions, myVoucher.GroupBy = contactForm.value.GroupBy, myVoucher.OwnerRoleId = contactForm.value.OwnerRoleId, myVoucher.CreatedById = contactForm.value.CreatedById, myVoucher.CreatedAt = contactForm.value.CreatedAt, myVoucher.ModifiedById = contactForm.value.ModifiedById, myVoucher.ModifiedAt = contactForm.value.ModifiedAt, myVoucher.IsDeleted = contactForm.value.IsDeleted, myVoucher.Formula = formullItems;\n    ShowResult(JSON.stringify(myVoucher));\n    beautifyJSON();\n  }\n  Save(contactForm) {\n    debugger;\n    console.log('contactForm.value:', contactForm.value);\n    let myVoucher = new VouchersDetail();\n    myVoucher.Id = contactForm.value.Id, myVoucher.VoucherTypeId = contactForm.value.VoucherTypeId, myVoucher.OrderIndex = contactForm.value.OrderIndex, myVoucher.SourceVoucherTypeId = contactForm.value.SourceVoucherTypeId, myVoucher.DebitCreditStatus = contactForm.value.DebitCreditStatus, myVoucher.AccountHeadId = contactForm.value.AccountHeadId, myVoucher.RowDescription = contactForm.value.RowDescription, myVoucher.Conditions = contactForm.value.Conditions, myVoucher.GroupBy = contactForm.value.GroupBy, myVoucher.OwnerRoleId = contactForm.value.OwnerRoleId, myVoucher.CreatedById = contactForm.value.CreatedById, myVoucher.CreatedAt = \"2022-02-20 13:08:52.1033333\", myVoucher.ModifiedById = contactForm.value.ModifiedById, myVoucher.ModifiedAt = \"2022-02-20 13:08:52.1033333\", myVoucher.IsDeleted = false, myVoucher.Formula = contactForm.value.Formula;\n    const formData = myVoucher;\n    console.log('formData:', formData);\n    this._apiService.SaveFormData(formData).subscribe(res => {\n      console.log('SaveFormData:', res);\n    });\n  }\n  ButifyJson() {\n    debugger;\n    try {\n      var ugly = this.Formula;\n      var obj = JSON.parse(ugly);\n      var pretty = JSON.stringify(obj, undefined, 4);\n      this.Formula = pretty;\n    } catch (error) {\n      if (error instanceof SyntaxError && error.message.includes('Unexpected end of JSON input')) {\n        //   console.error('Error: JSON input is incomplete or empty.');\n        console.log('Error: JSON input is incomplete or empty.');\n      } else {\n        console.log(error);\n      }\n    }\n  }\n}\nAddComponent.ɵfac = function AddComponent_Factory(t) {\n  return new (t || AddComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nAddComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddComponent,\n  selectors: [[\"formula-add\"]],\n  decls: 165,\n  vars: 21,\n  consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"card\", \"my-2\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"row\", 3, \"ngSubmit\"], [\"contactForm\", \"ngForm\"], [1, \"col-md-6\"], [1, \"row\", \"mb-3\"], [\"for\", \"VoucherTypeId\", 1, \"col-sm-3\", \"col-form-label\"], [1, \"col-sm-9\"], [\"id\", \"VoucherTypeId\", \"name\", \"VoucherTypeId\", \"aria-label\", \"Default select example\", 1, \"form-select\", \"form-control\", \"select2\", 3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"OrderIndex\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"OrderIndex\", \"name\", \"OrderIndex\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"SourceVoucherTypeId\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"SourceVoucherTypeId\", \"name\", \"SourceVoucherTypeId\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"DebitCreditStatus\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"number\", \"max\", \"255\", \"id\", \"DebitCreditStatus\", \"name\", \"DebitCreditStatus\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"AccountHeadId\", 1, \"col-sm-3\", \"col-form-label\"], [\"id\", \"AccountHeadId\", \"name\", \"AccountHeadId\", \"aria-label\", \"Default select example\", 1, \"form-select\", \"form-control\", \"select2\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"RowDescription\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"RowDescription\", \"name\", \"RowDescription\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"Conditions\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"Conditions\", \"name\", \"Conditions\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"GroupBy\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"GroupBy\", \"name\", \"GroupBy\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"OwnerRoleId\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"OwnerRoleId\", \"name\", \"OwnerRoleId\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"CreatedById\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"CreatedById\", \"name\", \"CreatedById\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"CreatedAt\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"datetime\", \"id\", \"CreatedAt\", \"name\", \"CreatedAt\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"ModifiedById\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"ModifiedById\", \"name\", \"ModifiedById\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"ModifiedAt\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"datetime\", \"id\", \"ModifiedAt\", \"name\", \"ModifiedAt\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"IsDeleted\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"checkbox\", \"id\", \"IsDeleted\", \"name\", \"IsDeleted\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"for\", \"Formula\", 1, \"col-sm-3\", \"col-form-label\"], [\"id\", \"Formula\", \"name\", \"Formula\", \"cols\", \"10\", \"rows\", \"30\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-4\"], [1, \"col-md\"], [1, \"mb-3\"], [1, \"row\", \"g-3\", \"align-items-center\"], [1, \"col-auto\"], [\"for\", \"inputPassword6\", 1, \"col-form-label\"], [\"type\", \"text\", \"placeholder\", \"\\u0646\\u0627\\u0645 \\u0641\\u0631\\u0645\\u0648\\u0644 \\u0631\\u0627 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\", \"name\", \"FormullaName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"passwordHelpInline\", 1, \"form-text\", \"text-success\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-plus-circle\", 3, \"click\"], [1, \"col-auto\", \"text-danger\"], [\"id\", \"FormulaWrapper\", \"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [\"addTextToFormulaForm\", \"ngForm\"], [1, \"mb-3\", \"mt-3\", \"text-end\"], [\"for\", \"comment\"], [\"rows\", \"5\", \"id\", \"comment\", \"name\", \"text\", \"ngModel\", \"\", 1, \"form-control\"], [1, \"modal-footer\", \"d-none\"], [\"id\", \"closeTextToFormulaModal\", \"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"], [\"id\", \"Placeholder\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"closePlaceHolderToFormulaModal\", \"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"addPlaceHolderToFormulaForm\", \"ngForm\"], [\"type\", \"hidden\", \"name\", \"placeHolderIndex\", \"id\", \"placeHolderIndex\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"contextmenu\", 1, \"contextmenu\", 3, \"ngStyle\", \"clickOutSide\", \"mouseleave\"], [1, \"contextmenu-item\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-trash\"], [3, \"value\"], [\"id\", \"FormulaWrapper\", 1, \"col\"], [1, \"input-group\", \"mb-3\", 3, \"id\"], [\"placeholder\", \"item\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"contextmenu\", \"ngModelChange\", \"change\"], [1, \"form-control\", 3, \"id\"], [\"id\", \"passwordHelpBlock\", 1, \"form-text\", \"col-sm-12\"]],\n  template: function AddComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r14 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"main\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵtext(5, \" \\u0641\\u0631\\u0645 \\u0646\\u06AF\\u0627\\u0634\\u062A Voucher \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"form\", 6, 7);\n      i0.ɵɵlistener(\"ngSubmit\", function AddComponent_Template_form_ngSubmit_7_listener() {\n        i0.ɵɵrestoreView(_r14);\n        const _r0 = i0.ɵɵreference(8);\n        return i0.ɵɵresetView(ctx.Save(_r0));\n      });\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"label\", 10);\n      i0.ɵɵtext(12, \"VoucherTypeId\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 11)(14, \"select\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_select_ngModelChange_14_listener($event) {\n        return ctx.onFormChange($event);\n      })(\"ngModelChange\", function AddComponent_Template_select_ngModelChange_14_listener($event) {\n        return ctx.VoucherTypeId = $event;\n      });\n      i0.ɵɵelementStart(15, \"option\", 13);\n      i0.ɵɵtext(16, \"Open this select menu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, AddComponent_option_17_Template, 2, 3, \"option\", 14);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"div\", 9)(19, \"label\", 15);\n      i0.ɵɵtext(20, \"OrderIndex\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 11)(22, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_22_listener($event) {\n        return ctx.OrderIndex = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_22_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"div\", 9)(24, \"label\", 17);\n      i0.ɵɵtext(25, \"SourceVoucherTypeId\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 11)(27, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.SourceVoucherTypeId = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"div\", 9)(29, \"label\", 19);\n      i0.ɵɵtext(30, \"DebitCreditStatus\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 11)(32, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.DebitCreditStatus = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"div\", 9)(34, \"label\", 21);\n      i0.ɵɵtext(35, \"AccountHeadId\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 11)(37, \"select\", 22);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_select_ngModelChange_37_listener($event) {\n        return ctx.AccountHeadId = $event;\n      })(\"ngModelChange\", function AddComponent_Template_select_ngModelChange_37_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementStart(38, \"option\", 13);\n      i0.ɵɵtext(39, \"Open this select menu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(40, AddComponent_option_40_Template, 2, 3, \"option\", 14);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"div\", 9)(42, \"label\", 23);\n      i0.ɵɵtext(43, \"RowDescription\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 11)(45, \"input\", 24);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_45_listener($event) {\n        return ctx.RowDescription = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_45_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(46, \"div\", 9)(47, \"label\", 25);\n      i0.ɵɵtext(48, \"Conditions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"div\", 11)(50, \"input\", 26);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_50_listener($event) {\n        return ctx.Conditions = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_50_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(51, \"div\", 9)(52, \"label\", 27);\n      i0.ɵɵtext(53, \"GroupBy\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"div\", 11)(55, \"input\", 28);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_55_listener($event) {\n        return ctx.GroupBy = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_55_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(56, \"div\", 9)(57, \"label\", 29);\n      i0.ɵɵtext(58, \"OwnerRoleId\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"div\", 11)(60, \"input\", 30);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_60_listener($event) {\n        return ctx.OwnerRoleId = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_60_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(61, \"div\", 9)(62, \"label\", 31);\n      i0.ɵɵtext(63, \"CreatedById\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"div\", 11)(65, \"input\", 32);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_65_listener($event) {\n        return ctx.CreatedById = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_65_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(66, \"div\", 9)(67, \"label\", 33);\n      i0.ɵɵtext(68, \"CreatedAt\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"div\", 11)(70, \"input\", 34);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_70_listener($event) {\n        return ctx.CreatedAt = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_70_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(71, \"div\", 9)(72, \"label\", 35);\n      i0.ɵɵtext(73, \"ModifiedById\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(74, \"div\", 11)(75, \"input\", 36);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_75_listener($event) {\n        return ctx.ModifiedById = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_75_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(76, \"div\", 9)(77, \"label\", 37);\n      i0.ɵɵtext(78, \"ModifiedAt\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"div\", 11)(80, \"input\", 38);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_80_listener($event) {\n        return ctx.ModifiedAt = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_80_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(81, \"div\", 9)(82, \"label\", 39);\n      i0.ɵɵtext(83, \"IsDeleted\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"div\", 11)(85, \"input\", 40);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_85_listener($event) {\n        return ctx.IsDeleted = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_85_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(86, \"button\", 41);\n      i0.ɵɵtext(87, \"\\u0630\\u062E\\u06CC\\u0631\\u0647\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(88, \"div\", 8)(89, \"div\", 9)(90, \"label\", 42);\n      i0.ɵɵtext(91, \"Formula\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(92, \"div\", 11)(93, \"textarea\", 43);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_textarea_ngModelChange_93_listener($event) {\n        return ctx.Formula = $event;\n      })(\"ngModelChange\", function AddComponent_Template_textarea_ngModelChange_93_listener($event) {\n        return ctx.onFormulaChange($event);\n      });\n      i0.ɵɵelementEnd()()()()()()()();\n      i0.ɵɵelementStart(94, \"div\", 44)(95, \"div\", 3)(96, \"div\", 4);\n      i0.ɵɵtext(97, \" \\u062A\\u0628\\u062F\\u06CC\\u0644 \\u0641\\u0631\\u0645\\u0648\\u0644 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(98, \"div\", 5)(99, \"div\", 45)(100, \"div\", 46)(101, \"div\", 47)(102, \"div\", 48)(103, \"label\", 49);\n      i0.ɵɵtext(104, \"Add Formula :\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(105, \"div\", 48)(106, \"input\", 50);\n      i0.ɵɵlistener(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_106_listener($event) {\n        return ctx.FormullaName = $event;\n      })(\"ngModelChange\", function AddComponent_Template_input_ngModelChange_106_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(107, \"div\", 48)(108, \"span\", 51)(109, \"i\", 52);\n      i0.ɵɵlistener(\"click\", function AddComponent_Template_i_click_109_listener() {\n        return ctx.createFormulaItem();\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(110, \"div\", 53);\n      i0.ɵɵtext(111);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(112, AddComponent_div_112_Template, 8, 6, \"div\", 54);\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(113, \"div\", 55)(114, \"div\", 56)(115, \"div\", 57)(116, \"div\", 58)(117, \"h5\", 59);\n      i0.ɵɵtext(118, \"Modal title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(119, \"button\", 60)(120, \"span\", 61);\n      i0.ɵɵtext(121, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(122, \"div\", 62)(123, \"form\", 6, 63);\n      i0.ɵɵlistener(\"ngSubmit\", function AddComponent_Template_form_ngSubmit_123_listener() {\n        i0.ɵɵrestoreView(_r14);\n        const _r4 = i0.ɵɵreference(124);\n        return i0.ɵɵresetView(ctx.InsertTextToFormula(_r4.value));\n      });\n      i0.ɵɵelementStart(125, \"div\", 64)(126, \"label\", 65);\n      i0.ɵɵtext(127, \"\\u0645\\u062A\\u0646 \\u0645\\u0648\\u0631\\u062F \\u0646\\u0638\\u0631 \\u0631\\u0627 \\u062C\\u0647\\u062A \\u0627\\u0641\\u0632\\u0648\\u062F\\u0646 \\u0646\\u0648\\u0634\\u062A\\u0647 \\u0628\\u0647 \\u0641\\u0631\\u0645\\u0648\\u0644 \\u0627\\u0636\\u0627\\u0641\\u0647 \\u06A9\\u0646\\u06CC\\u062F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(128, \"textarea\", 66);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(129, \"button\", 41);\n      i0.ɵɵtext(130, \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(131, \"div\", 67)(132, \"button\", 68);\n      i0.ɵɵtext(133, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(134, \"button\", 69);\n      i0.ɵɵtext(135, \"Save changes\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(136, \"div\", 70)(137, \"div\", 56)(138, \"div\", 57)(139, \"div\", 58)(140, \"h5\", 59);\n      i0.ɵɵtext(141, \"Modal title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(142, \"button\", 71)(143, \"span\", 61);\n      i0.ɵɵtext(144, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(145, \"div\", 62)(146, \"form\", 6, 72);\n      i0.ɵɵlistener(\"ngSubmit\", function AddComponent_Template_form_ngSubmit_146_listener() {\n        i0.ɵɵrestoreView(_r14);\n        const _r5 = i0.ɵɵreference(147);\n        return i0.ɵɵresetView(ctx.InsertPlaceHolderToFormula(_r5.value));\n      });\n      i0.ɵɵelementStart(148, \"div\", 64);\n      i0.ɵɵelement(149, \"input\", 73);\n      i0.ɵɵelementStart(150, \"label\", 65);\n      i0.ɵɵtext(151, \"\\u0646\\u0627\\u0645 \\u0641\\u06CC\\u0644\\u062F \\u0628\\u0631\\u0627\\u06CC \\u062C\\u0627\\u0646\\u06AF\\u0647\\u062F\\u0627\\u0631 \\u0631\\u0627 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(152, \"textarea\", 66);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(153, \"button\", 41);\n      i0.ɵɵtext(154, \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(155, \"div\", 67)(156, \"button\", 74);\n      i0.ɵɵtext(157, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(158, \"button\", 69);\n      i0.ɵɵtext(159, \"Save changes\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(160, \"div\", 75);\n      i0.ɵɵlistener(\"clickOutSide\", function AddComponent_Template_div_clickOutSide_160_listener() {\n        return ctx.closeContextMenu();\n      })(\"mouseleave\", function AddComponent_Template_div_mouseleave_160_listener() {\n        return ctx.closeContextMenu();\n      });\n      i0.ɵɵelementStart(161, \"ul\")(162, \"li\", 76);\n      i0.ɵɵlistener(\"click\", function AddComponent_Template_li_click_162_listener() {\n        return ctx.removeFormulaItem();\n      });\n      i0.ɵɵtext(163, \"\\u062D\\u0630\\u0641 \\u0641\\u0631\\u0645\\u0648\\u0644 \");\n      i0.ɵɵelement(164, \"i\", 77);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.VoucherTypeId);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vocherTypeIdSelectData);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.OrderIndex);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.SourceVoucherTypeId);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.DebitCreditStatus);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.AccountHeadId);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.accountHeadSelectData);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.RowDescription);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.Conditions);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.GroupBy);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.OwnerRoleId);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.CreatedById);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.CreatedAt);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.ModifiedById);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.ModifiedAt);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.IsDeleted);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.Formula);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngModel\", ctx.FormullaName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.FormulaErroMessage, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.FormullaArr);\n      i0.ɵɵadvance(48);\n      i0.ɵɵproperty(\"ngStyle\", ctx.rightPanelStyle);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgStyle, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.MaxValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGQuY29tcG9uZW50Lmxlc3MifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Formula","MyPlaceholder","UntypedFormControl","VouchersDetail","FormulaTextArea","FormulaTextAreaValue","FormulaTextAreaValueProperty","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","item_r6","id","ɵɵadvance","ɵɵtextInterpolate2","code","title","item_r7","ɵɵlistener","AddComponent_div_112_Template_input_contextmenu_4_listener","$event","restoredCtx","ɵɵrestoreView","_r11","index_r9","index","ctx_r10","ɵɵnextContext","ɵɵresetView","detectRightMouseClick","AddComponent_div_112_Template_input_ngModelChange_4_listener","ctx_r12","FormullaArr","Value","AddComponent_div_112_Template_input_change_4_listener","ctx_r13","AlterFormula","ɵɵelement","ɵɵtextInterpolate","item_r8","Name","ɵɵpropertyInterpolate1","ctx_r3","ɵɵattribute","AddComponent","constructor","_apiService","selectFormulaIndex","FormullaName","FormulaErroMessage","ForumlaTextAreaList","rightPanelStyle","searchVal","isAlert","search","ngOnInit","$","on","evt","VoucherTypeId","val","AccountHeadId","RowDescription","onFormChange","GetAllCodeVoucherGroup","subscribe","res","vocherTypeIdSelectData","console","log","GetAllAccountHeads","accountHeadSelectData","GetAllRowDescription","rowDescriptionSelectData","callSelect2","closeContextMenu","onShow","alert","ButifyJson","OrderIndex","contactForm","value","Id","SourceVoucherTypeId","DebitCreditStatus","Conditions","GroupBy","OwnerRoleId","CreatedById","CreatedAt","ModifiedById","ModifiedAt","IsDeleted","onFormulaChange","makeFormulaChange","then","a","forEach","item","changeShowFormula","DedicateAndSetFormula","data","JSON","parse","formulaTextAreasList","map","Property","Text","Properties","property","formula","Placeholders","push","preventDefault","target","getAttribute","which","clientX","clientY","createFormulaItem","find","obj","createdFormula","length","removeFormulaItem","filter","Index","OpenAddTextModal","OpenTextModal","OpenAddPlaceHolderModal","OpenPlaceholderModal","InsertTextToFormula","form","text","CloseAllActiveModals","InsertPlaceHolderToFormula","PlaceholderIndex","Number","GetPlaceHoderIndex","UpdateFormulaTextArea","customFormulaTextAreaValuePropertyList","element","customFormulaTextAreaValueProperty","formulaTextAreaValueName","formulaTextAreaValue","formulaTextArea","jsonString","stringify","formulaIndex","famulaText","regex","matches","match","myVoucher","formullItems","newFormula","ShowResult","beautifyJSON","Save","formData","SaveFormData","ugly","pretty","undefined","error","SyntaxError","message","includes","ɵɵdirectiveInject","i1","ApiService","selectors","decls","vars","consts","template","AddComponent_Template","rf","ctx","AddComponent_Template_form_ngSubmit_7_listener","_r14","_r0","ɵɵreference","AddComponent_Template_select_ngModelChange_14_listener","ɵɵtemplate","AddComponent_option_17_Template","AddComponent_Template_input_ngModelChange_22_listener","AddComponent_Template_input_ngModelChange_27_listener","AddComponent_Template_input_ngModelChange_32_listener","AddComponent_Template_select_ngModelChange_37_listener","AddComponent_option_40_Template","AddComponent_Template_input_ngModelChange_45_listener","AddComponent_Template_input_ngModelChange_50_listener","AddComponent_Template_input_ngModelChange_55_listener","AddComponent_Template_input_ngModelChange_60_listener","AddComponent_Template_input_ngModelChange_65_listener","AddComponent_Template_input_ngModelChange_70_listener","AddComponent_Template_input_ngModelChange_75_listener","AddComponent_Template_input_ngModelChange_80_listener","AddComponent_Template_input_ngModelChange_85_listener","AddComponent_Template_textarea_ngModelChange_93_listener","AddComponent_Template_input_ngModelChange_106_listener","AddComponent_Template_i_click_109_listener","AddComponent_div_112_Template","AddComponent_Template_form_ngSubmit_123_listener","_r4","AddComponent_Template_form_ngSubmit_146_listener","_r5","AddComponent_Template_div_clickOutSide_160_listener","AddComponent_Template_div_mouseleave_160_listener","AddComponent_Template_li_click_162_listener","ɵɵtextInterpolate1"],"sourceRoot":"","sources":["F:\\Development\\JsonConverter\\jsonConvertor\\JsonConverter\\src\\app\\components\\formula\\add\\add.component.ts","F:\\Development\\JsonConverter\\jsonConvertor\\JsonConverter\\src\\app\\components\\formula\\add\\add.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Formula } from '../../../Models/Formula.model';\nimport { MyPlaceholder } from '../../../Models/MyPlaceholder.model';\nimport { ApiService } from '../../../services/api.service'\nimport { NgForm, NgModel, UntypedFormControl ,FormsModule} from '@angular/forms';\nimport { VouchersDetail } from '../../../Models/VouchersDetail.model';\nimport { FormulaTextArea } from 'src/app/Models/FormulaTextArea.model';\nimport { FormulaTextAreaValue } from 'src/app/Models/FormulaTextAreaValue';\nimport { FormulaTextAreaValueProperty } from 'src/app/Models/FormulaTextAreaValueProperty';\n\n\ndeclare function OpenTextModal(): any;\ndeclare function OpenPlaceholderModal(): any;\ndeclare function CloseAllActiveModals(): any;\ndeclare function callSelect2(): any;\ndeclare function changeShowFormula(index: any, text: any): any;\ndeclare function ShowResult(jsonString: any): any;\ndeclare function GetPlaceHoderIndex(): any;\ndeclare function beautifyJSON(): any;\ndeclare function GetVoucherTypeId(): any;\ndeclare function GetAccountHeadId(): any;\ndeclare function GetRowDescription(): any;\ndeclare function SelectChange(): any;\ndeclare var $:any;\n\n\n@Component({\n  selector: 'formula-add',\n  templateUrl: './add.component.html',\n  styleUrls: ['./add.component.less']\n})\nexport class AddComponent implements OnInit {\n\n\n\n\n  title = 'JsonConverter';\n  selectFormulaIndex: number = 0;\n  FormullaArr: Formula[] = [];\n  FormullaName: string = \"\";\n  FormulaErroMessage: string = \"\";\n  vocherTypeIdSelectData: any;\n  accountHeadSelectData: any;\n  rowDescriptionSelectData: any;\n  ForumlaTextAreaList:FormulaTextArea[]=[]\n\n  //add contextmenu\n  rightPanelStyle: any = {};\n  searchVal: string = '';\n  //userList:userObj[];\n  isAlert: boolean = false;\n  //k result:Observerable<any[]>;\n  search: UntypedFormControl = new UntypedFormControl(\"\");\n  /*fields*/\n  OrderIndex: string | undefined;\n  VoucherTypeId: string | undefined;\n  SourceVoucherTypeId: string | undefined;\n  IsDeleted: boolean | undefined;\n  DebitCreditStatus:string | undefined;\n  AccountHeadId:string|undefined;\n  RowDescription:string|undefined;\n  Conditions:string|undefined;\n  GroupBy:string|undefined;\n  OwnerRoleId:string|undefined;\n  CreatedById:string|undefined;\n  CreatedAt:string|undefined;\n  ModifiedById:string|undefined;\n  ModifiedAt:string|undefined;\n  selectedVoucherTypeId:string|undefined;\n  Formula:any|undefined=\"\";\n  /*End fields*/\n\n  constructor(private _apiService: ApiService) { }\n\n\n\n  ngOnInit() {\n    debugger;\n\n    $(\".select2\").on(\"change\", (evt) => {\n       \n      debugger;\n   \n      this.VoucherTypeId= $(\"#VoucherTypeId\").val()    ; \n      this.AccountHeadId=    $(\"#AccountHeadId\").val();\n      this.RowDescription=    $(\"#RowDescription\").val();\n        \n   this.onFormChange(evt)\n  });\n\n    \n //  SelectChange().then(()=>{alert('sfdsf')});\n    this._apiService.GetAllCodeVoucherGroup().subscribe(res => {\n      this.vocherTypeIdSelectData = res;\n      console.log('vocherTypeIdSelectData:', this.vocherTypeIdSelectData);\n\n    });\n    this._apiService.GetAllAccountHeads().subscribe(res => {\n      this.accountHeadSelectData = res;\n      console.log('accountHeadSelectData:', this.accountHeadSelectData);\n\n    });\n    this._apiService.GetAllRowDescription().subscribe(res => {\n      this.rowDescriptionSelectData = res;\n      console.log('rowDescriptionSelectData:', this.rowDescriptionSelectData);\n\n    });\n    callSelect2();\n    this.closeContextMenu();\n\n  }\n  onShow() {\n    alert('Show button clicked!');\n  }\n  \n  \n  onFormChange($event:any) {\n    debugger;\n    this.ButifyJson();\n    console.log('event:',$event);\n    console.log('this.OrderIndex:', this.OrderIndex);\n    \n    var contactForm = {\n      value:{\n        Id: \"string\",\n        VoucherTypeId: this.VoucherTypeId,\n        OrderIndex: this.OrderIndex,\n        SourceVoucherTypeId: this.SourceVoucherTypeId,\n        DebitCreditStatus: this.DebitCreditStatus,\n        AccountHeadId: this.AccountHeadId,\n        RowDescription: this.RowDescription,\n        Conditions: this.Conditions,\n        GroupBy: this.GroupBy,\n        OwnerRoleId: this.OwnerRoleId,\n        CreatedById: this.CreatedById,\n        CreatedAt: this.CreatedAt,\n        ModifiedById: this.ModifiedById,\n        ModifiedAt: this.ModifiedAt,\n        IsDeleted: this.IsDeleted,\n        Formula: this.FormullaArr\n\n      }\n    }\n//    this.map(contactForm);\n  }\n async onFormulaChange($event:any){\n    await this.makeFormulaChange($event).then(a=>{\n      this.FormullaArr.forEach((item, index) => { \n\n        \n        changeShowFormula(index, item.Value);\n        this.DedicateAndSetFormula(index);\n        \n            });\n    })\n  }\n   async makeFormulaChange($event:any){\n    debugger;\n    this.FormullaArr=[];\n    console.log('event:',$event);\n    const data = JSON.parse($event);\nconst formulaTextAreasList = data.map(item => new FormulaTextArea(item.Property, new FormulaTextAreaValue(item.Value.Text, item.Value.Properties.map(property => new FormulaTextAreaValueProperty(property.Name)))));\n\n// log the result to the console\nconsole.log('formulaTextAreas:',formulaTextAreasList);\nformulaTextAreasList.forEach((item, index) => { \n  var formula = new Formula(index, item.Value.Text, item.Property,item.Placeholders);\n  this.FormullaArr.push(formula)\n      });  \n      console.log('this.FormullaArr:',this.FormullaArr);\n      \n\n\n  }\n\n\n\n\n  detectRightMouseClick($event: any, index: any) {\n    $event.preventDefault();\n    debugger;\n    var index = $event.target.getAttribute('data-index');\n    this.selectFormulaIndex = index;\n    if ($event.which === 3) {\n      this.rightPanelStyle = {\n        'display': 'block',\n        'position': 'absolute',\n        'left.px': $event.clientX,\n        'top.px': $event.clientY,\n      }\n      console.log('this.rightPanelStyle', this.rightPanelStyle);\n    }\n  }\n\n  closeContextMenu() {\n    this.rightPanelStyle = {\n      'display': 'none'\n    }\n  }\n\n  createFormulaItem() {\n    debugger;\n    if (this.FormullaName) {\n      if (this.FormullaArr.find((obj) => { return obj.Name == this.FormullaName; })) {\n        this.FormulaErroMessage = \"نام فرمول نباید تکراری باشد\";\n        return;\n      }\n\n      let createdFormula = '<input type=\"text\" class=\"form-control\">';\n      this.FormullaArr.push(new Formula(this.FormullaArr.length, \"\", this.FormullaName));\n      this.FormulaErroMessage = \"\";\n    }\n    else {\n      this.FormulaErroMessage = \"نام فرمول را باید وارد کنید\";\n    }\n  }\n  removeFormulaItem() {\n    debugger;\n    delete this.FormullaArr[this.selectFormulaIndex];\n    console.log('this.FormullaArr', this.FormullaArr);\n    this.FormullaArr = this.FormullaArr.filter(item => item.Index !== this.selectFormulaIndex);\n\n    //removeInput(index);\n\n  }\n\n\n  OpenAddTextModal(index: number) {\n    debugger;\n    this.selectFormulaIndex = index;\n    OpenTextModal();\n  }\n  OpenAddPlaceHolderModal() {\n    debugger;\n    this.selectFormulaIndex = this.selectFormulaIndex;\n    OpenPlaceholderModal();\n  }\n  InsertTextToFormula(form: any) {\n    debugger;\n    this.FormullaArr[this.selectFormulaIndex].Value += form.text;\n    console.log('this.FormullaArr', this.FormullaArr);\n    CloseAllActiveModals();\n  }\n  InsertPlaceHolderToFormula(form: any) {\n    debugger;\n    var PlaceholderIndex = Number(GetPlaceHoderIndex());\n    this.FormullaArr[this.selectFormulaIndex].Placeholders = this.FormullaArr[this.selectFormulaIndex].Placeholders.filter(item => item.Index !== 0);//temerory\n    this.FormullaArr[this.selectFormulaIndex].Placeholders = this.FormullaArr[this.selectFormulaIndex].Placeholders.filter(item => item.Index !== PlaceholderIndex);\n    //this.FormullaArr[this.selectFormulaIndex].Placeholders.push(new MyPlaceholder(this.FormullaArr[this.selectFormulaIndex].Placeholders.length, form.text));\n    this.FormullaArr[this.selectFormulaIndex].Placeholders.push(new MyPlaceholder(PlaceholderIndex, form.text));\n    console.log('this.FormullaArr', this.FormullaArr);\n    //this.FormullaArr[this.selectFormulaIndex].Value += \"[]\";\n    CloseAllActiveModals();\n    this.UpdateFormulaTextArea();\n  }\n  UpdateFormulaTextArea(){\n    debugger;\n    this.ForumlaTextAreaList=[];\n    var customFormulaTextAreaValuePropertyList: FormulaTextAreaValueProperty[] = [];\n\n    this.FormullaArr.forEach((item, index) => {\n\n      item.Placeholders.forEach(element => {  \n var customFormulaTextAreaValueProperty = new FormulaTextAreaValueProperty(element.Name);\n customFormulaTextAreaValuePropertyList.push(customFormulaTextAreaValueProperty);\n      });\n\n      var formulaTextAreaValueName=$(\"#showFormula\"+index).text();\n       var formulaTextAreaValue = new FormulaTextAreaValue(formulaTextAreaValueName, customFormulaTextAreaValuePropertyList);\n       var formulaTextArea = new FormulaTextArea(item.Name, formulaTextAreaValue);\n\n\n\n     this.ForumlaTextAreaList.push(formulaTextArea);\n\n\n    });\n     console.log('ForumlaTextAreaList:',this.ForumlaTextAreaList);\n\n     const jsonString = JSON.stringify(this.ForumlaTextAreaList);\n     this.Formula=jsonString;\n     this.ButifyJson();\n     \n\n  }\n  AlterFormula($event: any) {\n\n    debugger;\n    var value = ($event.target).value;\n    var index = $event.target.getAttribute(\"data-index\");\n    changeShowFormula(index, value);\n    this.DedicateAndSetFormula(index);\n\n\n  }\n  ///بدست آوردن و ست کردن جانگهدارهای یک فرمول\n  DedicateAndSetFormula(formulaIndex: any) {\n    debugger;\n    var famulaText = this.FormullaArr[this.selectFormulaIndex].Value;\n    const regex = /\\[.+?\\]/g;\n    const matches = famulaText.match(regex);\n    this.FormullaArr[this.selectFormulaIndex].Placeholders = [];\n\n    if (matches) {\n      matches.forEach((item, index) => {\n        this.FormullaArr[this.selectFormulaIndex].Placeholders.push(new MyPlaceholder(index, item));\n      });\n    }\n    console.log('selected formula is:', this.FormullaArr[this.selectFormulaIndex]);\n    this.onFormChange(null);\n  }\n  map(contactForm: any) {\n    debugger;\n    let myVoucher = new VouchersDetail();\n    let formullItems: any = [];\n    this.FormullaArr.forEach((item, index) => {\n      let newFormula = {\n        \"Property\": item.Name,\n        \"Value\": {\n\n          \"text\": item.Value,\n          \"Properties\": {\n\n            \"name\": item.Placeholders[index].Name,\n          }\n        }\n      }\n      formullItems.push(newFormula);\n    });\n\n    myVoucher.Id = contactForm.value.Id,\n      myVoucher.VoucherTypeId = contactForm.value.VoucherTypeId,\n      myVoucher.OrderIndex = contactForm.value.OrderIndex,\n      myVoucher.SourceVoucherTypeId = contactForm.value.SourceVoucherTypeId,\n      myVoucher.DebitCreditStatus = contactForm.value.DebitCreditStatus,\n      myVoucher.AccountHeadId = contactForm.value.AccountHeadId,\n      myVoucher.RowDescription = contactForm.value.RowDescription,\n      myVoucher.Conditions = contactForm.value.Conditions,\n      myVoucher.GroupBy = contactForm.value.GroupBy,\n      myVoucher.OwnerRoleId = contactForm.value.OwnerRoleId,\n      myVoucher.CreatedById = contactForm.value.CreatedById,\n      myVoucher.CreatedAt = contactForm.value.CreatedAt,\n      myVoucher.ModifiedById = contactForm.value.ModifiedById,\n      myVoucher.ModifiedAt = contactForm.value.ModifiedAt,\n      myVoucher.IsDeleted = contactForm.value.IsDeleted,\n      myVoucher.Formula = formullItems\n\n    ShowResult(JSON.stringify(myVoucher));\n\n    beautifyJSON();\n\n  }\n\n  Save(contactForm: any) {\n    debugger;\n    console.log('contactForm.value:',contactForm.value);\n    let myVoucher = new VouchersDetail();\n      myVoucher.Id = contactForm.value.Id,\n      myVoucher.VoucherTypeId = contactForm.value.VoucherTypeId,\n      myVoucher.OrderIndex = contactForm.value.OrderIndex,\n      myVoucher.SourceVoucherTypeId = contactForm.value.SourceVoucherTypeId,\n      myVoucher.DebitCreditStatus = contactForm.value.DebitCreditStatus,\n      myVoucher.AccountHeadId = contactForm.value.AccountHeadId,\n      myVoucher.RowDescription = contactForm.value.RowDescription,\n      myVoucher.Conditions = contactForm.value.Conditions,\n      myVoucher.GroupBy = contactForm.value.GroupBy,\n      myVoucher.OwnerRoleId = contactForm.value.OwnerRoleId,\n      myVoucher.CreatedById = contactForm.value.CreatedById,\n      myVoucher.CreatedAt = \"2022-02-20 13:08:52.1033333\",\n      myVoucher.ModifiedById = contactForm.value.ModifiedById,\n      myVoucher.ModifiedAt = \"2022-02-20 13:08:52.1033333\",\n      myVoucher.IsDeleted = false,\n      myVoucher.Formula = contactForm.value.Formula\n\n      const formData =myVoucher;\n      console.log('formData:',formData);\n\n      this._apiService.SaveFormData(formData).subscribe(res => {\n        console.log('SaveFormData:', res);\n  \n      });\n    }\n    ButifyJson(){\n      debugger;\n      try {\n        var ugly = this.Formula;\n        var obj = JSON.parse(ugly);\n        var pretty = JSON.stringify(obj, undefined, 4);\n        this.Formula = pretty;\n      }\n      catch(error) {\n        if (error instanceof SyntaxError && error.message.includes('Unexpected end of JSON input')) {\n       //   console.error('Error: JSON input is incomplete or empty.');\n       console.log('Error: JSON input is incomplete or empty.');\n        } else {\n          console.log(error);\n        }\n      }\n    }\n  \n\n\n}\n","<style>\n\n</style>\n<main class=\"container-fluid\" >\n  <div class=\"row\">\n    <div class=\"col-md-8\">\n        <div class=\"card my-2\">\n    <div class=\"card-header\">\n      فرم نگاشت Voucher </div>\n    <div class=\"card-body \">\n      <form #contactForm=\"ngForm\" class=\"row\" (ngSubmit)=\"Save(contactForm)\">\n        <div class=\"col-md-6\">\n\n          <!-- <div class=\"row mb-3\">\n            <label for=\"Id\" class=\"col-sm-3 col-form-label\">Id</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"Id\" name=\"Id\" ngModel>\n            </div>\n          </div> -->\n\n          <div class=\"row mb-3\">\n            <label for=\"VoucherTypeId\" class=\"col-sm-3 col-form-label\">VoucherTypeId</label>\n            <div class=\"col-sm-9\">\n              <select id=\"VoucherTypeId\"  name=\"VoucherTypeId\"  (ngModelChange)=onFormChange($event) [(ngModel)]=\"VoucherTypeId\"  class=\"form-select form-control select2 \" aria-label=\"Default select example\" >\n                <option selected>Open this select menu</option>\n                <option  *ngFor=\"let item of vocherTypeIdSelectData\" [value]=\"item.id\">code: {{item.code}} title:\n                  {{item.title}} </option>\n              </select>\n            </div>\n          </div>\n          <div class=\"row mb-3\">\n            <label for=\"OrderIndex\" class=\"col-sm-3 col-form-label\">OrderIndex</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"OrderIndex\" name=\"OrderIndex\" [(ngModel)]=\"OrderIndex\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n          <div class=\"row mb-3\">\n            <label for=\"SourceVoucherTypeId\" class=\"col-sm-3 col-form-label\">SourceVoucherTypeId</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"SourceVoucherTypeId\" name=\"SourceVoucherTypeId\" [(ngModel)]=\"SourceVoucherTypeId\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"DebitCreditStatus\" class=\"col-sm-3 col-form-label\">DebitCreditStatus</label>\n            <div class=\"col-sm-9\">\n              <input type=\"number\" max=\"255\" class=\"form-control\" id=\"DebitCreditStatus\" name=\"DebitCreditStatus\" [(ngModel)]=\"DebitCreditStatus\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"AccountHeadId\" class=\"col-sm-3 col-form-label\">AccountHeadId</label>\n            <div class=\"col-sm-9\">\n              <select id=\"AccountHeadId\" name=\"AccountHeadId\" class=\"form-select form-control select2 \" aria-label=\"Default select example\" [(ngModel)]=\"AccountHeadId\" (ngModelChange)=onFormChange($event)>\n                <option selected>Open this select menu</option>\n                <option *ngFor=\"let item of accountHeadSelectData\" [value]=\"item.id\">code: {{item.code}} title:\n                  {{item.title}} </option>\n              </select>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"RowDescription\" class=\"col-sm-3 col-form-label\">RowDescription</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"RowDescription\" name=\"RowDescription\" [(ngModel)]=\"RowDescription\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <!-- <div class=\"row mb-3\">\n            <label for=\"RowDescription\" class=\"col-sm-3 col-form-label\">RowDescription</label>\n            <div class=\"col-sm-9\">\n              <select id=\"RowDescription\" name=\"RowDescription\" class=\"form-select form-control select2 \" aria-label=\"Default select example\" [(ngModel)]=\"RowDescription\" (ngModelChange)=onFormChange($event)>\n                <option selected>Open this select menu</option>\n                <option *ngFor=\"let item of rowDescriptionSelectData\" [value]=\"item\"> {{item}}\n                  {{item.title}} </option>\n              </select>\n            </div>\n          </div> -->\n\n\n\n          <div class=\"row mb-3\">\n            <label for=\"Conditions\" class=\"col-sm-3 col-form-label\">Conditions</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"Conditions\" name=\"Conditions\" [(ngModel)]=\"Conditions\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"GroupBy\" class=\"col-sm-3 col-form-label\">GroupBy</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"GroupBy\" name=\"GroupBy\" [(ngModel)]=\"GroupBy\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"OwnerRoleId\" class=\"col-sm-3 col-form-label\">OwnerRoleId</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"OwnerRoleId\" name=\"OwnerRoleId\" [(ngModel)]=\"OwnerRoleId\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"CreatedById\" class=\"col-sm-3 col-form-label\">CreatedById</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"CreatedById\" name=\"CreatedById\" [(ngModel)]=\"CreatedById\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"CreatedAt\" class=\"col-sm-3 col-form-label\">CreatedAt</label>\n            <div class=\"col-sm-9\">\n              <input type=\"datetime\" class=\"form-control\" id=\"CreatedAt\" name=\"CreatedAt\" [(ngModel)]=\"CreatedAt\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"ModifiedById\" class=\"col-sm-3 col-form-label\">ModifiedById</label>\n            <div class=\"col-sm-9\">\n              <input type=\"text\" class=\"form-control\" id=\"ModifiedById\" name=\"ModifiedById\" [(ngModel)]=\"ModifiedById\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"ModifiedAt\" class=\"col-sm-3 col-form-label\">ModifiedAt</label>\n            <div class=\"col-sm-9\">\n              <input  type=\"datetime\" class=\"form-control\" id=\"ModifiedAt\" name=\"ModifiedAt\" [(ngModel)]=\"ModifiedAt\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <label for=\"IsDeleted\" class=\"col-sm-3 col-form-label\">IsDeleted</label>\n            <div class=\"col-sm-9\">\n              <input type=\"checkbox\" class=\"form-check-input\" id=\"IsDeleted\" name=\"IsDeleted\" [(ngModel)]=\"IsDeleted\" (ngModelChange)=onFormChange($event)>\n            </div>\n          </div>\n\n          <button type=\"submit\" class=\"btn btn-primary \">ذخیره</button>\n\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"row mb-3\">\n            <label for=\"Formula\" class=\"col-sm-3 col-form-label\">Formula</label>\n            <div class=\"col-sm-9\">\n                <textarea class=\"form-control\"  id=\"Formula\" name=\"Formula\" cols=\"10\" rows=\"30\" [(ngModel)]=\"Formula\" (ngModelChange)=\"onFormulaChange($event)\"></textarea>\n            </div>\n          </div>\n        </div>\n      </form>\n\n    </div>\n\n\n  </div>\n    </div>\n\n    <div class=\"col-md-4\">\n      <div class=\"card my-2\">\n  <div class=\"card-header\">\n    تبدیل فرمول </div>\n  <div class=\"card-body \">\n      <div class=\"col-md\">\n        <div class=\" mb-3\">\n\n          <div class=\"row g-3 align-items-center\">\n            <div class=\"col-auto\">\n              <label for=\"inputPassword6\" class=\"col-form-label\">Add Formula :</label>\n            </div>\n            <div class=\"col-auto\">\n              <input type=\"text\" class=\"form-control\" placeholder=\"نام فرمول را وارد کنید\" name=\"FormullaName\"\n              [(ngModel)]=\"FormullaName\" (ngModelChange)=onFormChange($event)>\n            </div>\n            <div class=\"col-auto\">\n              <span id=\"passwordHelpInline\" class=\"form-text text-success\">\n                <i (click)=\"createFormulaItem()\" class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>\n              </span>\n            </div>\n            <div class=\"col-auto text-danger\">\n              {{FormulaErroMessage}}\n            </div>\n          </div>\n\n          <div id=\"FormulaWrapper\" class=\"col\" *ngFor=\"let item of FormullaArr;let index = index;\">\n            <!-- <input name=a{{index}} [(ngModel)]=\"toDos[index]\" placeholder=\"item\">    -->\n            <label for=\"comment\">{{item.Name}}</label>\n            <div id=formula{{index}} class=\"input-group mb-3\">\n         \n              <input (contextmenu)=\"detectRightMouseClick($event,index)\" name=a{{index}} [attr.data-index]=\"index\" [(ngModel)]=\"FormullaArr[index].Value\" placeholder=\"item\" class=\"form-control\"  (change)=\"AlterFormula($event)\" >\n              <div id=\"showFormula{{index}}\"   class=\"form-control\" ></div>\n              <div id=\"passwordHelpBlock\" class=\"form-text col-sm-12\">\n                برای استفاده از placeholer مقدار placeholderرا داخل [] قرار دهید.\n              </div>\n              <!--<div class=\"input-group-append\">\n       \n                 <span class=\"input-group-text\">افزودن نوشته <i (click)=\"OpenAddTextModal(index)\"\n                    class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> </span>\n      \n              </div> -->\n            </div>\n<!--new codes-->\n\n<!--End new codes-->\n\n          </div>\n        </div>\n\n        <!-- <div class=\"\">\n          <textarea class=\"form-control col\" name=\"\" id=\"mappedResult\" cols=\"30\" rows=\"10\"></textarea>\n        </div> -->\n      </div>\n\n\n\n \n\n  </div>\n\n\n</div>\n  </div>\n\n  </div>\n\n\n\n</main>\n\n<!-- Modal Insert Text -->\n\n<!-- Button trigger modal -->\n<!-- <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n  افزودن نوشته به فرمول\n</button> -->\n\n\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n        <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <form #addTextToFormulaForm=\"ngForm\" class=\"row\" (ngSubmit)=\"InsertTextToFormula(addTextToFormulaForm.value)\">\n          <div class=\"mb-3 mt-3 text-end\">\n            <label for=\"comment\">متن مورد نظر را جهت افزودن نوشته به فرمول اضافه کنید</label>\n            <textarea class=\"form-control\" rows=\"5\" id=\"comment\" name=\"text\" ngModel></textarea>\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\">افزودن</button>\n        </form>\n      </div>\n      <div class=\"modal-footer d-none\">\n        <button id=\"closeTextToFormulaModal\" type=\"button\" class=\"btn btn-secondary\"\n          data-bs-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>\n<!--End Modal Insert Text -->\n\n<!-- Modal Insert PlaceHolder -->\n\n<!-- Button trigger modal -->\n<!-- <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n  افزودن نوشته به فرمول\n</button> -->\n\n\n<div class=\"modal fade\" id=\"Placeholder\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n        <button id=\"closePlaceHolderToFormulaModal\" type=\"button\" class=\"close\" data-bs-dismiss=\"modal\"\n          aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n\n        <form #addPlaceHolderToFormulaForm=\"ngForm\" class=\"row\"\n          (ngSubmit)=\"InsertPlaceHolderToFormula(addPlaceHolderToFormulaForm.value)\">\n          <div class=\"mb-3 mt-3 text-end\">\n            <input type=\"hidden\" name=\"placeHolderIndex\" id=\"placeHolderIndex\" class=\"form-control\" ngModel >\n            <label for=\"comment\">نام فیلد برای جانگهدار را وارد کنید</label>\n            <textarea class=\"form-control\" rows=\"5\" id=\"comment\" name=\"text\" ngModel></textarea>\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\">افزودن</button>\n        </form>\n      </div>\n      <div class=\"modal-footer d-none\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>\n<!--End Modal Insert PlaceHolder -->\n\n<div id=\"contextmenu\" class=\"contextmenu\" [ngStyle]=\"rightPanelStyle\" (clickOutSide)=\"closeContextMenu()\" (mouseleave)=\"closeContextMenu()\">\n  <ul>\n    <li class=\"contextmenu-item\" (click)=\"removeFormulaItem()\">حذف فرمول <i class=\"fa fa-trash\" aria-hidden=\"true\"  ></i></li>\n    <!-- <li class=\"contextmenu-item\" (click)=\"OpenAddPlaceHolderModal()\">افزودن جانگهدار <i   class=\"fa fa-plus-square-o\" aria-hidden=\"true\"></i></li> -->\n  </ul>\n</div>"]},"metadata":{},"sourceType":"module"}